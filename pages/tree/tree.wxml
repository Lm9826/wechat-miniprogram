<!-- pages/tree/tree.wxml -->
<view class="tree-container">
  <!-- é¡¶éƒ¨ä¿¡æ¯æ  -->
  <view class="top-bar">
    <view class="energy-info">
      <text class="energy-label">å½“å‰èƒ½é‡</text>
      <view class="energy-value">
        <text class="energy-number">{{currentEnergy}}</text>
        <text class="energy-unit">g</text>
      </view>
    </view>
    <view class="growth-info">
      <text class="growth-label">ç”Ÿé•¿è¿›åº¦</text>
      <view class="growth-bar">
        <view class="growth-progress" style="width: {{growthProgress}}%"></view>
      </view>
      <text class="growth-text">{{growthProgress}}%</text>
    </view>
  </view>

  <!-- æ ‘æœ¨å±•ç¤ºåŒº -->
  <view class="tree-display">
    <view class="tree-stage-{{treeStage}}">
      <!-- åœŸå£¤ -->
      <view class="soil"></view>
      <!-- æ ‘å¹² -->
      <view class="trunk"></view>
      <!-- æ ‘å†  -->
      <view class="canopy">
        <view class="leaves leaves-1"></view>
        <view class="leaves leaves-2"></view>
        <view class="leaves leaves-3"></view>
        <view class="leaves leaves-4"></view>
      </view>
      <!-- çˆ±å¿ƒè£…é¥° -->
      <view class="hearts">
        <view class="heart heart-1"></view>
        <view class="heart heart-2"></view>
        <view class="heart heart-3"></view>
      </view>
    </view>
  </view>

  <!-- äº’åŠ¨æŒ‰é’®åŒº -->
  <view class="action-buttons">
    <button class="collect-btn" bindtap="collectEnergy" wx:if="{{canCollect}}">
      <text class="btn-icon">ğŸ’§</text>
      <text class="btn-text">æ”¶é›†èƒ½é‡</text>
    </button>
    <button class="collect-btn disabled" wx:else>
      <text class="btn-icon">â°</text>
      <text class="btn-text">ä¸‹æ¬¡æ”¶é›†: {{nextCollectTime}}</text>
    </button>
    <button class="water-btn" bindtap="waterTree" disabled="{{currentEnergy < 10}}">
      <text class="btn-icon">ğŸ’§</text>
      <text class="btn-text">æµ‡æ°´ (10g)</text>
    </button>
  </view>

  <!-- ç”Ÿé•¿æ—¥å¿— -->
  <view class="growth-log">
    <text class="log-title">ç”Ÿé•¿æ—¥å¿—</text>
    <view class="log-list">
      <view class="log-item" wx:for="{{growthLogs}}" wx:key="id">
        <text class="log-icon">ğŸŒ±</text>
        <text class="log-content">{{item.content}}</text>
        <text class="log-time">{{item.time}}</text>
      </view>
    </view>
  </view>
</view>